<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>时间选择</title>
		<style>
			.time-field-cont {
				position: relative;
				width: 220px;
				display: inline-block;
				height: 50px;
			}
			#time-field {
				position: absolute;
				opacity: 0;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 1;
			}
			#time-field + span{
				position: absolute;
				/* pointer-events: none; */
				display: block;
				line-height: 50px;
				top: 0;
				right: 0;
				bottom: 0;
				left: 0;
				z-index: 0;
				outline: 1px #000000 solid;
				background: url(img/timg.jpeg) no-repeat;
				background-size: 30px auto;
				background-position: right center;
			}
			#time-field:focus + span{
				outline: 1px #ABCDEF solid;
			}
			
			input::-webkit-calendar-picker-indicator {
				width: 30px;
				height: 50px;
			}
			input::-webkit-clear-button,input::-webkit-inner-spin-button {
				display: none;
			}
			
			/**=======================*/
			.time-field {
				position: absolute;
				opacity: 0;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 1;
			}
			.time-field + span{
				position: absolute;
				/* pointer-events: none; */
				display: block;
				line-height: 50px;
				top: 0;
				right: 0;
				bottom: 0;
				left: 0;
				z-index: 0;
				outline: 1px #000000 solid;
				background: url(img/timg.jpeg) no-repeat;
				background-size: 30px auto;
				background-position: right center;
			}
			.time-field:focus + span{
				outline: 1px #ABCDEF solid;
			}
			p-date-picker {
				position: relative;
				width: 220px;
				display: inline-block;
				height: 50px;
			}
			.opt-inner + ul {
				display: none;
			}
			.opt-inner:focus + ul {
				display: block;
			}
			.option-row {
				position: relative;
			}
			.ul-list {
				position: absolute;
				top: 50px;
			}
		</style>
	</head>
	<body>
		<div class="time-field-cont">
			<input id="time-field" type="date" onchange="change(this)">
			<span>2019年2月13日 星期X</span>
		</div>
		<p-date-picker></p-date-picker>
		<select>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
		</select>
		<div class="option-row">
			<input class="opt-inner" style="height: 50px;width: 200px; color: red; font-size: 18px;" placeholder="看我"/>
			<ul class="ul-list">
				<li class="option-li-item" data-value="1">1</li>
				<li class="option-li-item" data-value="2">2</li>
				<li class="option-li-item" data-value="3">3</li>
				<li class="option-li-item" data-value="4">4</li>
			</ul>
		</div>
	</body>
	<script>
		document.querySelector('.option-row').addEventListener('touchstart mousedown', function (e) {
			var srcEle = e.target;
			if (srcEle.classList && srcEle.classList.contains('option-li-item')) {
				var value = srcEle.getAttribute('data-value');
				srcEle.parentElement.previousElementSibling.value = value;
				e.stopImmediatePropagation();
			}
		})
		// var dayMapping = {
		// 	0: '日',
		// 	1: '一',
		// 	2: '二',
		// 	3: '三',
		// 	4: '四',
		// 	5: '五',
		// 	6: '六'
		// }
		// function change(e) {
		// 	var value = document.querySelector('#time-field').value;
		// 	var _date = new Date(value);
		// 	var dates = value.split('-');
		// 	var result = `${dates[0]}年${dates[1]}月${dates[2]}日 星期${dayMapping[_date.getDay()]}`;
		// 	updateDate(result);
		// }
		// function updateDate(val) {
		// 	document.querySelector('.time-field-cont span').innerHTML = val;
		// }
		
	</script>
	<script src="js/date-picker.js"></script>
</html>
